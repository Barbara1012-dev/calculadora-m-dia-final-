<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quanto preciso no Exame Final?</title>
<style>
:root {
    /* Tema claro (padr√£o) */
    --bg: #f4f4f4;
    --card-bg: #fff;
    --text-primary: #222;
    --text-sec: #444;
    --input-bg: #fff;
    --input-color: #000;
    --button-bg: #3b82f6;
    --button-hover: #2563eb;
}
body.dark {
    /* Tema escuro */
    --bg: #1f2937;
    --card-bg: #111827;
    --text-primary: #f1f5f9;
    --text-sec: #d1d5db;
    --input-bg: #374151;
    --input-color: #f9fafb;
    --button-bg: #6366f1;
    --button-hover: #4f46e5;
}

body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: var(--bg);
    color: var(--text-primary);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    transition: background 0.3s, color 0.3s;
}

main {
    background: var(--card-bg);
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 20px;
    max-width: 400px;
    width: 100%;
    box-sizing: border-box;
    transition: background 0.3s;
}

h1 {
    text-align: center;
    margin: 0 0 10px;
    font-size: 1.5rem;
}

p {
    text-align: center;
    color: var(--text-sec);
    font-size: 0.95rem;
}

label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
}

input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #bbb;
    border-radius: 4px;
    background: var(--input-bg);
    color: var(--input-color);
    font-size: 1rem;
    box-sizing: border-box;
    transition: background 0.3s, color 0.3s;
}

input[type="number"]:focus {
    border-color: #3b82f6;
    outline: none;
}

.erro {
    color: #dc2626;
    font-size: 0.85rem;
    margin-top: 3px;
}

#resultado {
    margin-top: 20px;
    font-size: 1.1rem;
    text-align: center;
    font-weight: bold;
    min-height: 1.4em;
}

.aprovado { color: #16a34a; }
.reprovado { color: #dc2626; }
.atencao { color: #d97706; }

#toggle-theme {
    position: fixed;
    top: 15px;
    right: 15px;
    background: var(--button-bg);
    color: #fff;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: background 0.3s;
}
#toggle-theme:hover { background: var(--button-hover); }

@media (max-width: 480px) {
    h1 { font-size: 1.3rem; }
}
</style>
</head>

<body>
<button id="toggle-theme">üåô Modo escuro</button>

<main>
    <h1>Quanto preciso no Exame Final?</h1>
    <p>Digite sua <b>M√©dia Semestral (M)</b> para saber se precisa de exame e qual nota m√≠nima.</p>

    <label for="media">M√©dia Semestral (M):</label>
    <input type="number" id="media" step="0.01" min="0" max="10" placeholder="Digite sua m√©dia">
    <div id="erro-media" class="erro"></div>

    <div id="resultado" aria-live="polite"></div>
</main>

<script>
const mediaInput = document.getElementById("media");
const erroDiv = document.getElementById("erro-media");
const resultadoDiv = document.getElementById("resultado");
const toggleBtn = document.getElementById("toggle-theme");

function setTheme(dark) {
    if (dark) {
        document.body.classList.add("dark");
        toggleBtn.textContent = "‚òÄÔ∏è Modo claro";
        localStorage.setItem("tema","escuro");
    } else {
        document.body.classList.remove("dark");
        toggleBtn.textContent = "üåô Modo escuro";
        localStorage.setItem("tema","claro");
    }
}
toggleBtn.addEventListener("click", () => setTheme(!document.body.classList.contains("dark")));
if (localStorage.getItem("tema") === "escuro") setTheme(true);

mediaInput.addEventListener("input", () => {
    validarCampo();
    calcularNotaNecessaria();
});

function validarCampo() {
    const valor = parseFloat(mediaInput.value);
    if (isNaN(valor)) {
        erroDiv.textContent = "";
        mediaInput.classList.remove("borda-erro");
        return;
    }
    if (valor < 0 || valor > 10) {
        erroDiv.textContent = "‚ö†Ô∏è O valor deve estar entre 0 e 10.";
    } else {
        erroDiv.textContent = "";
    }
}

function calcularNotaNecessaria() {
    const media = parseFloat(mediaInput.value);
    if (isNaN(media)) {
        resultadoDiv.textContent = "";
        resultadoDiv.className = "";
        return;
    }
    if (media < 0 || media > 10) {
        resultadoDiv.textContent = "Insira uma m√©dia v√°lida entre 0 e 10.";
        resultadoDiv.className = "reprovado";
        return;
    }
    if (media >= 6) {
        resultadoDiv.textContent = "‚úÖ Voc√™ j√° est√° aprovado! N√£o precisa de exame final.";
        resultadoDiv.className = "aprovado";
        return;
    }
    if (media < 2.5) {
        resultadoDiv.textContent = "‚ùå M√©dia abaixo de 2,5: n√£o h√° exame final, reprovado.";
        resultadoDiv.className = "reprovado";
        return;
    }

    const necessario = 15 - (media * 2);
    if (necessario > 10) {
        resultadoDiv.textContent = "‚ùå Mesmo com 10 no exame, n√£o √© poss√≠vel alcan√ßar a m√©dia final m√≠nima.";
        resultadoDiv.className = "reprovado";
    } else {
        const notaFormatada = (necessario % 1 === 0) ? necessario : necessario.toFixed(1);
        resultadoDiv.textContent = `‚ö†Ô∏è Voc√™ precisa tirar pelo menos ${notaFormatada} no Exame Final.`;
        resultadoDiv.className = "atencao";
    }
}
</script>
</body>
</html>
